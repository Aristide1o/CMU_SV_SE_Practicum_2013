<html>

<head>
<style>
	.default {
		width:250px;
		padding:10px 10px 20px 10px;
		border:1px solid #BFBFBF;
		margin-bottom: 30px;
		float: left;
	}
	#testResults {
		float: left;
    margin-top: 20px;
		margin-left: 60px;
	}

.movingBlock
{
width:80px;
height:80px;
background:red;
position:relative;
}


</style>

</head>
<body>
 <h2>Animate box</h2>
<button type="button" name="test" onclick="suite.run({async: true}); return false;">Run Test</button><br/><br/>

<div id="testArea"> 

	<div id="target" class="default">
    <h3>CSS Transforms</h3>
    Transform: Rotate 
    <br/>
    <div id="block1" class="movingBlock"></div>
    <br/>
    Transform: Skew
     <br/>
    <div id="block2" class="movingBlock"></div>
      <br/>
     Color changing div 
   <div id="rectangle" style="width: 100px; height: 100px"></div>
   <br/>
      Color rectangle in Canvas
    <canvas id="canvas"></canvas>

   
   
  </div>

	<div id="testResults"> 
		<h3>Results</h3>
		
	</div>

</div>
 
<script src="benchmark.js"></script>
<script>

var context, toggle, rotate=5;




var suite = new Benchmark.Suite;

suite.add("Transform: Rotating block", function(){
  rotate+=2;
  block1.style.webkitTransform = "rotate("+rotate+"deg)"; 

})
.add("Skew Transform", function(){
  rotate+=2;
  block2.style.webkitTransform = "skew("+rotate+"deg,"+rotate+"deg)"; 
  if(rotate>=25)
    rotate=5;

})
.add("Color-changing 'div'", function(){
  toggle=!toggle;
  rectangle.style.background = toggle ? 'rgb(200,200,20)' :  'rgb(20,20,200)';

})
.add('Color-changing Rectangle in Canvas', function(){
  toggle=!toggle;
  context = canvas.getContext( '2d' );
	context.fillStyle = toggle ? 'rgb(200,200,20)' :  'rgb(20,20,200)';
  context.fillRect(0,0,100,100);


})
.on('cycle', function(event, bench) {
	console.log(event.target);
  	printResults(event.target);
    rotate=5;
  
})
.on('complete', function() {
  //document.getElementById("testResults").appendChild(document.createTextNode('Comparison: Fastest is ' + this.filter('fastest').pluck('name')));
  
}); 

function printResults(result){
	var para = document.createElement("p");
  	var node=document.createTextNode(result.name+ " : Mean Time "+result.stats.mean);
	para.appendChild(node);

	var element=document.getElementById("testResults");
	element.appendChild(para);
}


</script>
 
</body>
</html>